<div class="register-page">
  <div class="register-container">
    <h2>Đăng ký tài khoản</h2>

    <form (ngSubmit)="onSubmit()" #registerForm="ngForm">

      <div class="form-group">
        <label>Tên đăng ký:</label>
        <input type="text" [(ngModel)]="username" name="username" required />
      </div>

      <div class="form-group">
        <label>Số điện thoại (Việt Nam):</label>
        <div class="phone-wrapper">
          <input type="text" [(ngModel)]="phone" name="phone" maxlength="9" pattern="^[0-9]{9}$" required placeholder="+84" />
        </div>
      </div>

      <div class="form-group">
        <label>Email:</label>
        <input type="email" [(ngModel)]="email" name="email" required />
      </div>

      <div class="form-group">
        <label>Mật khẩu:</label>
        <input type="password" [(ngModel)]="password" name="password" required />
      </div>

      <div class="form-group">
        <label>Nhập lại mật khẩu:</label>
        <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword" required />
      </div>


      <div class="form-group">
        <label>Vai trò:</label>
        <select [(ngModel)]="role" name="role">
          <option value="customer">Khách hàng</option>
          <option value="vendor">Nhà hàng</option>
        </select>
      </div>

      <div *ngIf="role === 'vendor'" class="vendor-extra">
        <div class="form-group">
          <label>Địa chỉ quán ăn:</label>
          <input type="text" [(ngModel)]="address" name="address" required />
        </div>

        <div class="form-group">
          <label>Mô tả quán ăn:</label>
          <textarea [(ngModel)]="description" name="description"></textarea>
        </div>

        <div class="form-group">
          <label>Hình ảnh quán ăn:</label>
          <input type="file" accept="image/*" (change)="onImageSelected($event)" />
        </div>

        <div *ngIf="imagePreview" class="image-preview">
          <img [src]="imagePreview" alt="Preview" />
        </div>
      </div>

      <div *ngIf="error" class="error">{{ error }}</div>

      <button type="submit">Đăng ký</button>
    </form>

    <p>
      <a routerLink="/sigin">Đăng nhập</a>
    </p>
  </div>

  <div class="register-image">
    <img src="assets/images/main.png" alt="Register Image" />
  </div>
</div>
